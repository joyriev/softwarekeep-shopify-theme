<div class="ia_wrapper">
 <div class="accordion-container">
   {% for block in section.blocks %}
    <div class="acc_wrap">
     <h2 class="acc-head">{{ block.settings.icon | image_url: width:'26', height:'26' | image_tag }} {{ block.settings.ques }}</h2>
     <div class="acc-text">
       {{ block.settings.text }}
     </div>
    </div>
   {% endfor %}
 </div>
  <div class="ia-image">
    {{ section.settings.image | image_url: width:'510', height:'540' | image_tag }}
  </div>
</div>
<script>
$(document).ready(function() {
    $('.acc-text').hide(); // Hide all .acc-text elements
    $('.acc-text:first').show(); // Show the first .acc-text element
    $('.acc-head:first').addClass('active'); // Add 'active' class to the first .acc-head element

    $('.acc-head').click(function() {
        var content = $(this).next('.acc-text'); // Get the next .acc-text element

        if (content.is(':visible')) {
            content.slideUp(); // Slide up the visible content
            $(this).removeClass('active'); // Remove the 'active' class from the clicked .acc-head
        } else {
            $('.acc-text').slideUp(); // Slide up all .acc-text elements
            $('.acc-head').removeClass('active'); // Remove the 'active' class from all .acc-head elements
            content.slideDown(); // Slide down the clicked content
            $(this).addClass('active'); // Add the 'active' class to the clicked .acc-head
        }
    });
});

</script>
{% schema %}
{
  "name": "Image with Accordion",
  "class": "image-with-accordion",
  "settings": [
    {
      "type": "image_picker",
      "id": "image",
      "label": "Image"
    }
  ],
  "blocks": [
    {
      "name": "ms-block",
      "type": "block",
      "settings": [
        {
          "type": "image_picker",
          "id": "icon",
          "label": "Icon Image"
        },
        {
          "type": "text",
          "id": "ques",
          "label": "Title"
        },
        {
          "type": "richtext",
          "id": "text",
          "label": "Text Content"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Image with Accordion"
      }
  ]
}
{% endschema %}