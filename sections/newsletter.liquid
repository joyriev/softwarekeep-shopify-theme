<div
  class="
    newsletter_section
    {% if section.settings.display_first_name and section.settings.display_last_name %}newsletter-both-names--true {% else %}newsletter-both-names--false {% endif %}
    {% if section.settings.image != nil %}newsletter-bgr-true{% endif %}
    text-align--{{section.settings.newsletter_section_text_align}}
    lazyload
    {{ settings.image_loading_style }}
  "
  {% if section.settings.image != null %}
    style="background-image: url({{ section.settings.image | img_url: '1600x'}})"
  {% endif %}
>
  <div class="main-container-form">
    <div class="section_form">
      {% if section.settings.newsletter_title != blank %}
        <h5>{{ section.settings.newsletter_title }}</h5>
      {% endif %}
      {% if section.settings.newsletter_text != blank %}
        <div class="newsletter-text">{{ section.settings.newsletter_text }}</div>
      {% endif %}
      <div class="newsletter">
        {% if settings.mailchimp_link != blank %}
          <form
            action="{{ settings.mailchimp_link }}"
            method="post"
            name="mc-embedded-subscribe-form"
            class="contact-form"
            id="contact_form"
            target="_blank"
          >
            <input
              type="email"
              value=""
              name="EMAIL"
              class="contact_email"
              placeholder="Mail"
            >
            <input
              type="submit"
              value="Submit"
              class="action_button sign_up"
              name="subscribe"
            >
          </form>
        {% else %}
          {% form 'customer' %}
            {% if form.posted_successfully? %}
              <p>
                <em>{{ 'general.newsletter_form.success_text' | t }}</em>
              </p>
            {% elsif form.errors %}
              {% for field in form.errors %}
                <p>
                  <em>{{ field }} - {{ form.errors.messages[field] }}</em>
                </p>
              {% endfor %}
            {% endif %}

            <input type="hidden" name="contact[tags]" value="prospect,newsletter">

            <input type="hidden" name="challenge" value="false">
            <input
              type="email"
              class="contact_email"
              name="contact[email]"
              required
              placeholder="Mail"
            >
            <input type="submit" class="action_button sign_up" value="Submit">
          {% endform %}
        {% endif %}
      </div>

      <div class="support">
        <ul class="support-link">
          <li>
            <span>
              <svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 15 15" fill="none">
                <g clip-path="url(#clip0_86_44)">
                  <path d="M7.5 0C3.36433 0 0 3.36433 0 7.5C0 11.6357 3.36433 15 7.5 15C11.6357 15 15 11.6357 15 7.5C15 3.36433 11.6357 0 7.5 0ZM11.3013 5.91064L7.23873 9.97307C7.11685 10.0949 6.95686 10.1563 6.79688 10.1563C6.63689 10.1563 6.4769 10.0949 6.35502 9.97307L4.32381 7.94186C4.07936 7.69753 4.07936 7.30247 4.32381 7.05814C4.56814 6.8137 4.96307 6.8137 5.20752 7.05814L6.79688 8.6475L10.4176 5.02693C10.6619 4.78249 11.0568 4.78249 11.3013 5.02693C11.5456 5.27126 11.5456 5.6662 11.3013 5.91064Z" fill="white"/>
                </g>
                <defs>
                  <clipPath id="clip0_86_44">
                    <rect width="15" height="15" fill="white"/>
                  </clipPath>
                </defs>
              </svg>
              Get Discount Vouchers
            </span>
         </li>
           <li>            
            <span>
              <svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 15 15" fill="none">
                <g clip-path="url(#clip0_86_44)">
                  <path d="M7.5 0C3.36433 0 0 3.36433 0 7.5C0 11.6357 3.36433 15 7.5 15C11.6357 15 15 11.6357 15 7.5C15 3.36433 11.6357 0 7.5 0ZM11.3013 5.91064L7.23873 9.97307C7.11685 10.0949 6.95686 10.1563 6.79688 10.1563C6.63689 10.1563 6.4769 10.0949 6.35502 9.97307L4.32381 7.94186C4.07936 7.69753 4.07936 7.30247 4.32381 7.05814C4.56814 6.8137 4.96307 6.8137 5.20752 7.05814L6.79688 8.6475L10.4176 5.02693C10.6619 4.78249 11.0568 4.78249 11.3013 5.02693C11.5456 5.27126 11.5456 5.6662 11.3013 5.91064Z" fill="white"/>
                </g>
                <defs>
                  <clipPath id="clip0_86_44">
                    <rect width="15" height="15" fill="white"/>
                  </clipPath>
                </defs>
              </svg>
             Great Productivity Tips
            </span>
          </li>
         <li>
          <span>
            <svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 15 15" fill="none">
              <g clip-path="url(#clip0_86_44)">
                <path d="M7.5 0C3.36433 0 0 3.36433 0 7.5C0 11.6357 3.36433 15 7.5 15C11.6357 15 15 11.6357 15 7.5C15 3.36433 11.6357 0 7.5 0ZM11.3013 5.91064L7.23873 9.97307C7.11685 10.0949 6.95686 10.1563 6.79688 10.1563C6.63689 10.1563 6.4769 10.0949 6.35502 9.97307L4.32381 7.94186C4.07936 7.69753 4.07936 7.30247 4.32381 7.05814C4.56814 6.8137 4.96307 6.8137 5.20752 7.05814L6.79688 8.6475L10.4176 5.02693C10.6619 4.78249 11.0568 4.78249 11.3013 5.02693C11.5456 5.27126 11.5456 5.6662 11.3013 5.91064Z" fill="white"/>
              </g>
              <defs>
                <clipPath id="clip0_86_44">
                  <rect width="15" height="15" fill="white"/>
                </clipPath>
              </defs>
            </svg>
           No Spam
          </span>
        </li>
        </ul>
      </div>
    </div>
  </div>
</div>
{% schema %}
{
  "name": "Newsletter",
  "class": "newsletter-section",
  "settings": [
    {
      "type": "text",
      "id": "newsletter_title",
      "label": "Heading",
      "default": "Subscribe"
    },
    {
      "type": "richtext",
      "id": "newsletter_text",
      "label": "Subheading",
      "default": "<p>Sign up to get the latest on sales, new releases and more â€¦</p>"
    },
    {
      "type": "checkbox",
      "id": "display_first_name",
      "label": "Display first name"
    },
    {
      "type": "checkbox",
      "id": "display_last_name",
      "label": "Display last name"
    },
    {
      "type": "select",
      "id": "newsletter_section_text_align",
      "label": "Text alignment",
      "options": [
         {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        }
     ],
      "default": "center"
    },

    {
      "type": "image_picker",
      "id": "image",
      "label": "Upload banner background image",
      "info":"1600 x 300px recommended"
    }
  ],
  "presets": [{
    "name": "Newsletter",
    "category": "Social",
    "settings": {
    }
  }]
}
{% endschema %}
